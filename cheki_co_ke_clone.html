<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Vehicles for Sale in Kenya</title>
	<link rel="stylesheet" href="styles.css">
</head>
<body>
	<div id="parent_div">
		<!---------------------CARD DIALOG BOX------------------------>
		<div id="popup" style="
			position: fixed;
			background-color: #555;
			width: 700px;
			height: 400px;
			padding: 20px;
			z-index: 1;
			display: none;
			left: 300px;
			top: 100px;
			border-radius: 10px;
			overflow: scroll;
		">
			<center>
				<hr>
					<p>PURCHASE ITEM</p>
				<hr>
				<img src="./Resources/img2.jpg" width="600" height="300" alt=""><br>
				<p>Price: Ksh. 1,800,00</p>
				<button>ADD TO CART</button>
				<button onclick="displayMain()">CLOSE</button>
			</center>
		</div>
		<!---------------------DEALER DIALOG BOX------------------------>
		<div id="dealer_popup" style="
			position: fixed;
			background-color: #555;
			width: 700px;
			height: 550px;
			padding: 20px;
			z-index: 1;
			visibility: hidden;
			left: 300px;
			top:30px;
			border-radius: 10px;
			opacity: 0;
			transition: visibility 0s, opacity 0.5s linear;
		">
			<center>
				<img src="./Resources/img_dealer_1.png" width="250" height="150" alt="">
					<h4>NISSAN</h4>
					<hr>
					<div style="
						min-width: 600px;
						max-width: 600px;
						height: auto;
						overflow-y: hidden;
						overflow-x: scroll;
						display: flex;
						flex-direction: row;
					">
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img_car.jpeg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 800,000</p>
							</div>
						</div>
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img4.jpg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 1,200,000</p>
							</div>
						</div>
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img5.jpg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 1,700,000</p>
							</div>
						</div>	
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img5.jpg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 1,700,000</p>
							</div>
						</div>			
					</div>
				<button onclick="displayDealer()">CLOSE</button>
			</center>
		</div>
		<!---------------------VEHICLE TYPE DIALOG BOX------------------------>
		<div id="vehicle_type_popup" style="
			position: fixed;
			background-color: #555;
			width: 700px;
			height: 550px;
			padding: 20px;
			z-index: 1;
			display: none;
			left: 300px;
			top:30px;
			border-radius: 10px;
		">
			<center>
				<img src="./Resources/car_type_3.png" width="215" height="160" alt="">
					<h4>4WD Vehicles</h4>
					<hr>
					<div style="
						min-width: 600px;
						max-width: 600px;
						height: auto;
						overflow-y: hidden;
						overflow-x: scroll;
						display: flex;
						flex-direction: row;
					">
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img_car.jpeg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 800,000</p>
							</div>
						</div>
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img4.jpg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 1,200,000</p>
							</div>
						</div>
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img5.jpg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 1,700,000</p>
							</div>
						</div>	
						<div class="card" onclick="displayMain()">
							<img src="./Resources/img5.jpg" width="250" height="150" alt="">
							<div class="container">
								<h3><b>Toyota Land Cruiser</b></h3>
								<p>Ksh. 1,700,000</p>
							</div>
						</div>			
					</div>
				<button onclick="displayVehicleTypes()">CLOSE</button>
			</center>
		</div>
		<!-------------------------TOP AREA--------------------------------->
		<div id="top_bar">
			<h3 id="loggedIn">Please log in</h3>
			<div id="item_1_1" >
				<a href="#contact_us">Contact us</a>
			</div>
			<div id="item_1_2" onclick="display_registration()">
				<a>Register</a>
			</div>
			<div id="item_1_3" onclick="display_login()">
				<a>Login</a>
			</div>
			<div id="item_1_4" onclick="display_dealer_login()">
				<a>Login Dealer</a>
			</div>
		</div>
		<!-----------------------NAVIAGTION AREA------------------------------>
		<div id="top_bar_2">
			<!--LOGIN POPUP-->
			<div id="login_form">
				<form id="login_details_form" onsubmit="event.preventDefault()" autocomplete="off">
					<label>E-mail or Username</label><br>
					<input id="login_usr_name_or_email" type="text" placeholder="example: jdoe@gmail.com"><br>
					<label>Password</label>
					<input id="login_usr_pass" type="password" placeholder="example: ****"><br>
					<center>
						<button onclick="authenticate_login()">Log In</button>
					</center>
					<p id="var_err"></p>
				</form>
			</div>
			<!--REGISTER POPUP-->
			<div id="register_form">
				<form id="register_details_form" onsubmit="event.preventDefault()" autocomplete="off">
					<label>First Name</label><br>
					<input id="usr_fname" type="text" placeholder="example: John"><br>
					<label>Last Name</label><br>
					<input id="usr_lname" type="text" placeholder="example: Doe"><br>
					<label>Pick a Username</label>
					<input id="usr_name" type="text" placeholder="example: jdoe"><br>
					<label>E-mail</label><br>
					<input id="usr_email" type="text" placeholder="example: jdoe@gmail.com"><br>
					<label>Password</label>
					<input id="usr_pass" type="password" placeholder="example: ****"><br>
					<label>Confirm Password</label>
					<input id="usr_pass_confirm" type="password" placeholder="example: ****"><br>
					<center>
						<button onclick="register_user()">Register</button>
					</center>
				</form>
			</div>
			<!--DEALER LOGIN POPUP-->
			<div id="dealer_form">
				<form id="login_details_form" onsubmit="event.preventDefault()" autocomplete="off">
					<label>E-mail or Username</label><br>
					<input id="login_usr_name_or_email" type="text" placeholder="example: jdoe@gmail.com"><br>
					<label>Password</label>
					<input id="login_usr_pass" type="password" placeholder="example: ****"><br>
					<center>
						<button onclick="authenticate_login()">Log In</button>
					</center>
					<p id="var_err"></p>
				</form>
			</div>
			<div id="icon">
				<p>cheki</p><p class="small" >.co.ke</p>	
			</div>
			<div id="item_2_1" >
				<a href="#new_cars" >New Cars</a>
			</div>
			<div id="item_2_2" onclick="display_insurers()">
				<a>Insurance</a>
			</div>
			<div id="item_2_3" onclick="display_car_loan_form()">
				<a>Car Loans</a>
			</div>
			<div id="item_2_4" >
				<a href="#dealers" >Winning Dealer</a>
			</div>
			<div id="item_2_5" >
				<a href="#reviews_section" >Reviews</a>
			</div>
			<div id="item_2_6" >
				<a href="#blogs" >Blog</a>
			</div>
			<div id="top_bar_2_bn" >
				<button class="top_bar_2" onclick="showRequestCarForm()">Request a car</button>
			</div>
			<div id="top_bar_2_bn_2" >
				<button class="top_bar_2_bn" onclick="showSellCarForm()">Sell a car</button>
			</div>
			
		</div>
		<!-------------------------NAVIGATION AREA------------------------------>
		<div id="top_bar_3">
			<!------------------------REQUEST A CAR--------------------------->
			<div id="car_loans_form_8" 
			style="
				padding: 20px;
				width: 270px;
				height: 190px;
				border-radius: 10px;
				background-color: #007700;
				z-index: 1;
				position: absolute;
				margin-top: 10px;
				margin-left: 890px;
				display: none;
				border: 2px solid #fff;
				box-sizing: border-box;
			">
				<form id="loan_details_form" onsubmit="event.preventDefault()" autocomplete="off">
					<label>Car Make</label><br>
					<input id="car_make" type="text" placeholder="example: Subaru"><br>
					<label>Car Model</label>
					<input id="car_model" type="text" placeholder="example: Forester (2010)"><br>
					<center>
						<button onclick="authenticate_login()">Apply Loan</button>
					</center>
					<p id="var_err"></p>
				</form>
			</div>

			<!--------SELL A CAR---------->
			<div id="car_loans_form_10" 
			style="
				padding: 20px;
				width: 270px;
				height: 190px;
				border-radius: 10px;
				background-color: #007700;
				z-index: 1;
				position: absolute;
				margin-top: 10px;
				margin-left: 990px;
				display: none;
				border: 2px solid #fff;
				box-sizing: border-box;
			">
				<form id="loan_details_form" onsubmit="event.preventDefault()" autocomplete="off">
					<label>Car Make</label><br>
					<input id="car_make" type="text" placeholder="example: Subaru"><br>
					<label>Car Model</label>
					<input id="car_model" type="text" placeholder="example: Forester (2010)"><br>
					<label>Car Price</label><br>
					<input id="car_price" type="text" placeholder="example: Ksh. 300,000"><br>
					<center>
						<button onclick="">SELL CAR</button>
					</center>
					<p id="var_err"></p>
				</form>
			</div>
			<!--INSURANCE POPUP-->
			<div id="insurance_form">
				<div class="insur">
					<div class="tile">
						<img src="./Resources/aaa_insurance.gif" width="250" height="50" alt="">
					</div>
					<div class="tile">
						<img src="./Resources/allstate_insurance.png" width="250" height="50" alt="">
					</div>
					<div class="tile">
						<img src="./Resources/nationwide.jpeg" width="250" height="50" alt="">
					</div>
				</div>
			</div>
			<!--CAR LOANS POPUP-->
			<div id="car_loans_form">
				<form id="loan_details_form" onsubmit="event.preventDefault()" autocomplete="off">
					<label>Car Make</label><br>
					<input id="car_make" type="text" placeholder="example: Subaru"><br>
					<label>Car Model</label>
					<input id="car_model" type="text" placeholder="example: Forester (2010)"><br>
					<label>Car Price</label><br>
					<input id="car_price" type="text" placeholder="example: Ksh. 300,000"><br>
					<label>Loan Period</label><br>
					<input id="loan_period" type="text" placeholder="example: 2 years"><br>
					<center>
						<button onclick="authenticate_login()">Apply Loan</button>
					</center>
					<p id="var_err"></p>
				</form>
			</div>
			<!--------------------TABBED MENU-------------------------------->
			<div id="tabbed_menu">
				<div id="btns">
					<button class="tablink tablink-left" id="defaultOpen" onclick="openOption('used',this,'black');">
						USED
					</button>
					<button class="tablink" onclick="openOption('new',this,'black');">
						NEW
					</button>
					<button class="tablink tablink-right" onclick="openOption('import',this,'black');">
						IMPORT
					</button>
				</div>
			
				<div id="used" class="tabcontent">
					<center>
						<form>
							<input type="text" class="wide" placeholder="Make"><br>
							<input type="text" class="wide" placeholder="Model"><br>
							<input type="text" class="slim" placeholder="Year: From">
							<input type="text" class="slim" placeholder="Year: To"><br>
							<input type="number" class="slim" placeholder="Price: Min">
							<input type="number" class="slim" placeholder="Price: Max"><br>
							<input type="submit" class="wide_bn" value="SEARCH NOW"><br>
						</form>
					</center>
				</div>

				<div id="new" class="tabcontent">
					<center>
						<form>
							<input type="text" class="wide" placeholder="Make"><br>
							<input type="text" class="wide" placeholder="Model"><br>
							<input type="submit" class="wide_bn" value="SEARCH NOW"><br>
						</form>
					</center>
				</div>
				<div id="import" class="tabcontent">
					<center>
						<form>
							<input type="text" class="wide" placeholder="Make"><br>
							<input type="text" class="wide" placeholder="Model"><br>
							<input type="text" class="slim" placeholder="Year: From">
							<input type="text" class="slim" placeholder="Year: To"><br>
							<input type="number" class="slim" placeholder="Price: Min">
							<input type="number" class="slim" placeholder="Price: Max"><br>
							<input type="submit" class="wide_bn" value="SEARCH NOW"><br>
						</form>
					</center>
				</div>
			</div>
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div class="section_separator">
			<center>
				<h3>Featured</h3>
			</center>			
		</div>
		<!--------------------FEATURED CARDVIEWS---------------------------->	
		<div id="featured_cars" class="featured_cars">
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img_car.jpeg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 800,000</p>
				</div>
			</div>
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img2.jpg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 1,800,000</p>
				</div>
			</div>
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img4.jpg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 1,200,000</p>
				</div>
			</div>		
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img5.jpg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 1,700,000</p>
				</div>
			</div>			
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div id="new_cars" class="section_separator">
			<center>
				<h3>New</h3>
			</center>			
		</div>
		<!--------------------FEATURED CARDVIEWS---------------------------->	
		<div class="featured_cars">
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img_car.jpeg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 800,000</p>
				</div>
			</div>
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img2.jpg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 800,000</p>
				</div>
			</div>
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img4.jpg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 800,000</p>
				</div>
			</div>	
			<div class="card" onclick="displayMain()">
				<img src="./Resources/img5.jpg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Toyota Land Cruiser</b></h3>
					<p>Ksh. 800,000</p>
				</div>
			</div>		
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div id="dealers" class="section_separator">
			<center>
				<h3>Dealer Partners</h3>
			</center>			
		</div>
		<!----------------------------VEHICLE DEALERS----------------------------------->
		<div id="dealer_partners">
			<div class="dealers_card" onclick="displayDealer()">
				<img src="./Resources/img_dealer_1.png" width="250" height="150" alt="">
				<div class="dealer_tag">
					<h4>NISSAN</h4>
				</div>
			</div>	
			<div class="dealers_card" onclick="displayDealer()">
				<img src="./Resources/img_dealer_2.jpg" width="250" height="150" alt="">
				<div class="dealer_tag">
					<h4>TOYOTA</h4>
				</div>
			</div>	
			<div class="dealers_card" onclick="displayDealer()">
				<img src="./Resources/img_dealer_3.jpg" width="250" height="150" alt="">
				<div class="dealer_tag">
					<h4>SUBARU</h4>
				</div>
			</div>	
			<div class="dealers_card" onclick="displayDealer()">
				<img src="./Resources/img_dealer_4.png" width="250" height="150" alt="">
				<div class="dealer_tag">
					<h4>MISTUBISHI</h4>
				</div>
			</div>
			
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div class="section_separator">
			<center>
				<h3>Vehicle Types</h3>
			</center>			
		</div>
		<!-----------------------VEHICLE TYPES--------------------------------->
		<div id="vehicle_types">
			<div class="car_type" onclick="displayVehicleTypes()">
				<img src="./Resources/car_type_1.png" width="215" height="160" alt="">
				<div class="dealer_tag">
					<h4>STATION WAGON</h4>
				</div>
			</div>	
			<div class="car_type" onclick="displayVehicleTypes()">
				<img src="./Resources/car_type_2.png" width="215" height="160" alt="">
				<div class="dealer_tag">
					<h4>SALOON CAR</h4>
				</div>
			</div>	
			<div class="car_type" onclick="displayVehicleTypes()">
				<img src="./Resources/car_type_3.png" width="215" height="160" alt="">
				<div class="dealer_tag">
					<h4>4WD CARS</h4>
				</div>
			</div>	
			<div class="car_type" onclick="displayVehicleTypes()">
				<img src="./Resources/car_type_4.png" width="215" height="160" alt="">
				<div class="dealer_tag">
					<h4>4WD CARS</h4>
				</div>
			</div>	
			<div class="car_type">
				<img src="./Resources/car_type_5.webp" width="215" height="160" alt="">
				<div class="dealer_tag">
					<h4>ELECTRIC CARS</h4>
				</div>
			</div>
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div class="section_separator">
			<center>
				<h3>Location</h3>
			</center>			
		</div>
		<!-----------------------BRANCH LOCATIONS--------------------------------->
		<div class="locations">
			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Kisumu</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Nairobi</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Mombasa</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Nakuru</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Eldoret</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Thika</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Lamu</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Kisii</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Meru</h3>

			<img src="./Resources/location_icon.jpg" alt="" width="50" height="50">
			<h3>Murang'a</h3>
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div id="reviews_section" class="section_separator">
			<center>
				<h3>Reviews</h3>
			</center>			
		</div>
		<!--------------------------Reviews---------------------------------------->
		<div class="review_items">
			<div class="review"><p>This website is amazing, I bought a second-hand vehicle in good condition </p></div>
			<!-- <div class="review_1"><p>For anyone looking for a fast way to purchase, this is the place</p></div> -->
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div id="blogs" class="section_separator">
			<center>
				<h3>Out Latest Posts</h3>
			</center>			
		</div>
		<!-----------------------NEWS BYTES--------------------------------->
		<div class="posts">
			<div id="my details" 
				style="
					width: 400px;
					height: 400px;
					background-color: #555;
					border-radius: 10px;
				"
			>
				<img src="" alt="owner" width="300" height="300">
				<p>Hello world</p>
			</div>
			<div class="card">
				<img src="./Resources/post_1.png" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Rising Fuel Prices In The Continent</b></h3>
				</div>
			</div>		
			<div class="card">
				<img src="./Resources/post_2.jpeg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Reckless Driving In Sub-urban Areas</b></h3>
				</div>
			</div>
			<div class="card">
				<img src="./Resources/post_3.jpeg" width="250" height="150" alt="">
				<div class="container">
					<h3><b>Construction Of New Expressway</b></h3>
				</div>
			</div>
		</div>
		<!-----------------------SECTION SEPARATOR--------------------------------->
		<div class="section_separator">
			<center>
				<h3>Contact Us</h3>
			</center>			
		</div>
		<!------------------------------CONTACT US-------------------------------->
		<div id="contact_us">
			<div class="card">
				<img src="./Resources/instagram.png" width="150" height="150" alt="">
				<div id="gram">
					<h3>@silas.n_</h3>
				</div>
			</div>
			<div id="details_card" class="card">
				<img src="./Resources/facebook.png" width="200" height="150" alt="">
				<div id="gram">
					<h3>@Silas Nyamwange</h3>
				</div>
			</div>	
		</div>
	</div>
</body>
<script type="text/javascript">
	
	let items_arr = new Array()
	let item_id_to_add = 0 
	let popupIsShowing = false
	let users = new Array()
	let isLoggedIn
	document.getElementById("defaultOpen").click()

	function openOption(carState,elemnt,color){
		var i, tabcontent, tablinks

		tabcontent = document.getElementsByClassName("tabcontent")
		for (i = 0; i < tabcontent.length; i++) {
			tabcontent[i].style.display = "none"
		}

		tablinks = document.getElementsByClassName("tablink")
		for (i = 0; i < tablinks.length; i++) {
			tablinks[i].style.backgroundColor = ""
		}

		document.getElementById(carState).style.display = "block"
		elemnt.style.backgroundColor = color

	}
	function getUsers(){
		var str = localStorage.getItem("local_items")
		if(str != null){
			items_arr = JSON.parse(str)
		}

	}

	function getId(){
		var str = localStorage.getItem("local_item_to_add")
		if(str != null){
			item_id_to_add = JSON.parse(str)
		}
	}

	function getCardItem(){
		getItems()
		var search_item_name = document.getElementById("input#item_name").value
		for(var i = 0; i < items_arr.length; i++){
			if (items_arr[i].item_name == search_item_name)
				var item_id = items_arr[i].item_id
		}
		return item_id		
	}

	function setCardItem(){
		let item_id = `SN${Math.floor(Math.random(100))}`
		items_arr.push({
			item_id: item_id,
			item_price: document.getElementById("input#item_price").value,
			item_name: document.getElementById("input#item_name").value
		})
		localStorage.setItem("local_items", JSON.stringify(items_arr))
		localStorage.setItem("local_item_to_add", JSON.stringify(items_id))
	}

	function showCardItem(){
		getItems()
		getId()
		let item_price = 0
		let item_name = ""
		for(var i = 0; i < items_arr.length; i++){
			if(items_arr[i].item_id == item_id_to_add){
				item_price = items_arr[i].item_price
				item_name = items_arr[i].item_name
			}
		}
		document.getElementById("card_collection_1").innerHTML = ( 
		'<div class="card_view_item">'+'center'+
			'<p>item price"+`${item_price}`</p>'+
			'<p>item name"+`${item_name}`</p>'+
			'<p>item id"+`${item_id_to_add}`</p>'+
			'</center>'+
		'</div>')
	}

	function display_login(){
		if(popupIsShowing === false){
			document.getElementById("login_form").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("login_form").style.display = "none"
			popupIsShowing = false
		}
	}

	function getUsersDetails(){
		let str = localStorage.getItem("usersRegistered")
		if(str != null){
			users = JSON.parse(str)
		} 
	}
	function authenticate_login(){
		getUsersDetails()
		let login_usr_name_or_email = document.getElementById("login_usr_name_or_email").value
		let login_usr_pass = document.getElementById("login_usr_pass").value
		for(let i = 0; i < users.length; i++){
			if(users[i].usr_email === login_usr_name_or_email || users[i].usr_name === login_usr_name_or_email){
				users[i].isLoggedIn = true
				console.log("logged in as ", users[i].usr_name)
				document.getElementById("login_form").style.display = "none"
				isLoggedIn = users[i].usr_name
			}
			else{
				document.getElementById("var_err").innerHTML = "Incorrect username or password"
			}
		}
		document.getElementById("login_details_form").reset()
		display_login_name()
	}

	function register_user(){
		getUsersDetails()
		let usr_fname = document.getElementById("usr_fname").value
		let usr_lname = document.getElementById("usr_lname").value
		let usr_name = document.getElementById("usr_name").value
		let usr_email = document.getElementById("usr_email").value
		let usr_pass = document.getElementById("usr_pass").value
		let usr_pass_confirm = document.getElementById("usr_pass_confirm").value
		users.push({
			usr_fname: usr_fname,
			usr_lname: usr_lname,
			usr_name: usr_name,
			usr_email: usr_email,
			usr_pass: usr_pass,
			isLoggedIn: false
		})
		localStorage.setItem("usersRegistered", JSON.stringify(users))
		document.getElementById("register_form").style.display = "none"
		document.getElementById("register_details_form").reset()
		console.log("registered as ", usr_name)
		
	}
	
	function display_registration(){
		if(popupIsShowing === false){
			document.getElementById("register_form").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("register_form").style.display = "none"
			popupIsShowing = false
		}
	}
	function display_dealer_login(){
		if(popupIsShowing === false){
			document.getElementById("dealer_form").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("dealer_form").style.display = "none"
			popupIsShowing = false
		}
	}
	function display_car_loan_form(){
		if(popupIsShowing === false){
			document.getElementById("car_loans_form").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("car_loans_form").style.display = "none"
			popupIsShowing = false
		}
	}
	function display_insurers(){
		if(popupIsShowing === false){
			document.getElementById("insurance_form").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("insurance_form").style.display = "none"
			popupIsShowing = false
		}
	}
	function display_login_name(){
		getUsersDetails()
		for(let i = 0; i < users.length; i++){
			if(users[i].usr_name === isLoggedIn){
				document.getElementById("loggedIn").innerHTML ="Welcome, " +users[i].usr_fname
			}
		}
	}

	function showRequestCarForm(){
		if(popupIsShowing === false){
			document.getElementById("car_loans_form_8").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("car_loans_form_8").style.display = "none"
			popupIsShowing = false
		}
	}

	function showSellCarForm(){
		if(popupIsShowing === false){
			document.getElementById("car_loans_form_10").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("car_loans_form_10").style.display = "none"
			popupIsShowing = false
		}
	}

	function displayMain(){
		if(popupIsShowing === false){
			document.getElementById("popup").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("popup").style.display = "none"
			popupIsShowing = false
		}
	}

	function displayDealer(){
		if(popupIsShowing === false){
			document.getElementById("dealer_popup").style.opacity = "1"
			document.getElementById("dealer_popup").style.visibility = "visible"
			popupIsShowing = true
		} else {
			document.getElementById("dealer_popup").style.opacity = "0"
			document.getElementById("dealer_popup").style.visibility = "hidden"
			popupIsShowing = false
		}
	}

	function displayVehicleTypes(){
		if(popupIsShowing === false){
			document.getElementById("vehicle_type_popup").style.display = "inline"
			popupIsShowing = true
		} else {
			document.getElementById("vehicle_type_popup").style.display = "none"
			popupIsShowing = false
		}
	}
</script>
</html>